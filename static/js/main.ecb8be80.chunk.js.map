{"version":3,"sources":["api/api.js","components/Common/Preloader/Preloader.jsx","redux/searchUserReducer.js","assets/images/loading.svg","components/NavBar/NavBar.module.css","components/Dialogues/Dialogues.module.css","serviceWorker.js","components/Common/NavLinkWithDiv/NavLinkWithDiv.js","components/Dialogues/DialogueItem/DialogueItem.jsx","components/Dialogues/Messages/Message.jsx","components/Dialogues/Dialogues.jsx","redux/dialoguesReducer.js","hoc/withAuthRedirect.js","components/Dialogues/DialoguesContainer.jsx","redux/profileReducer.js","components/Profile/MyPosts/Post/Post.jsx","utils/validators/validators.js","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","components/Profile/ProfileInfo/ProfileStatus/ProfileStatusWithHooks.js","components/Profile/ProfileInfo/ProfileStatus/ProfileDataForm.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/ProfileInfo/ProfileInfoContainer.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx","components/Header/Header.jsx","redux/authReducer.js","components/Header/HeaderContainer.jsx","components/Friends/Friends.jsx","components/Friends/FriendsContainer.jsx","components/NavBar/NavBar.jsx","components/NavBar/NavBarContainer.jsx","components/Common/FormsControls/FormsControls.js","components/Login/Login.jsx","components/Login/LoginContainer.js","redux/appReducer.js","redux/friendsBarReducer.js","redux/storeRedux.js","App.js","index.js","assets/images/avatar.png","components/Common/FormsControls/FormControls.module.css","components/Profile/MyPosts/MyPosts.module.css","components/Login/Login.module.css","components/Dialogues/Messages/Message.module.css","components/Profile/MyPosts/Post/Post.module.css","components/Header/Header.module.css","components/Profile/ProfileInfo/ProfileInfo.module.css","components/Friends/Friends.module.css"],"names":["instance","axios","baseURL","withCredentials","headers","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","deleteSub","id","delete","postSub","post","profileAPI","getProfile","userId","getStatus","updateStatus","status","put","updatePhoto","photo","formData","FormData","append","saveProfileInfo","profile","authAPI","getAuth","login","email","password","rememberMe","captchaText","logout","getCaptchaUrl","messAPI","startMess","sendMess","body","getMess","getDialogs","Preloader","src","preloader","alt","style","marginLeft","marginRight","display","paddingTop","SUBSCRIBE","UNSUBSCRIBE","SET_USERS","initializationState","users","totalUsersCount","isFetching","subInProgress","updateObjectInArray","items","itemId","objPropName","newObjProps","map","u","toggleIsFetchingActionCreator","type","subscribeInProgressActionCreator","InProgress","getUsersThunkCreator","dispatch","a","async","page","count","totalCount","subscribeThunkCreator","resultCode","unsubscribeThunkCreator","searchUserReducer","state","action","followed","filter","module","exports","Boolean","window","location","hostname","match","NavLinkWithDiv","to","exact","children","divStyle","divActiveStyle","path","className","DialogueItem","props","dialogue","active","imgContainer","avatar","textContainer","name","lastActivityDate","Message","styles","bubbleWrapper","senderId","recipientContainer","senderContainer","bubble","messageInfoBox","senderName","time","message","AddMessageFormRedux","reduxForm","form","onSubmit","handleSubmit","input","Field","component","placeholder","withRouter","messagesEndRef","React","createRef","selectedDialogueId","Number","pathname","replace","DialogueItems","baseDialogues","el","key","userName","photos","small","lastDialogActivityDate","substring","lastIndexOf","split","reverse","join","Messages","baseTexts","addedAt","substr","useEffect","setMessages","current","scrollIntoView","behavior","dialogues","dialogues_items","messages_items","vl","message_box","ref","value","sendMessage","newMessageBody","clearForm","startMessSuccess","dialoguesReducer","payload","messages","mapStateToPropsForRedirect","isAuth","authentication","DialoguesContainer","this","clearMessages","setDialogues","Component","compose","connect","messagePage","newMessageText","setMessagesThunkCreator","formName","reset","RedirectComponent","loream","basePosts","text","date","likes","newPostText","currentDate","today","Date","getDate","getMonth","getFullYear","currentTime","getHours","getMinutes","setUserStatusActionCreator","setUserPhotoActionCreator","setUserProfileThunkCreator","profileReducer","newContent","length","newPostBody","p","Post","item","info","fullName","userText","likeCount","requiredField","MyPosts","memo","Posts","descriptionBlock","AddPostFormRedux","addNewPost","posts","add_post","miniAvatar","inputPost","validate","buttonContainer","MyPostsContainer","profilePage","ProfileStatusWithHooks","useState","editMode","setEditMode","setStatus","onDoubleClick","isOwner","autoFocus","onBlur","updateUserStatus","onChange","e","currentTarget","ContactForm","contactTitle","field","htmlFor","ProfileDataFormReduxForm","infoForm","aboutMe","Object","keys","contacts","cont","editButton","validateInfo","Contact","contactValue","href","ProfileData","lookingForAJob","lookingForAJobDescription","onClick","ProfileInfo","some","avatarContainer","large","target","files","updateUserPhoto","customFileInput","startMessaging","allInfoContainer","topInfo","initialValues","updateUserPhotoThunkCreator","getState","saveProfileInfoThunkCreator","startMessagingThunkCreator","Profile","ProfileContainer","params","setUserProfile","setUserStatus","refreshProfile","prevProps","prevState","snapshot","Header","app_header","loginBlock","App_logo","auth","captchaUrl","setUserDataActionCreator","getCaptchaUrlSActionCreator","getAuthThunkCreator","logoutThunkCreator","getCaptchaUrlThunkCreator","url","authReducer","HeaderContainer","Friends","Friend","base","caption","friends_online","FriendsContainer","friendsBar","friend","NavBar","maxLength","app_nav","activeClassName","activeLink","friends","online","NavBarContainer","Input","meta","hasError","touched","error","formControl","undefined","tooltip","tooltiptext","inputTooltipPosition","maxLength35","LoginReduxForm","container","required","formSummeryTooltipPosition","psw","backgroundColor","Login","stopSubmit","_error","loginThunkCreator","initialized","appReducer","friendsBarReducer","reducers","combineReducers","searchUserPage","app","formReducer","storeRedux","createStore","applyMiddleware","thunkMiddleware","SearchUserContainer","lazy","App","initializeApp","render","fallback","LoginContainer","AppContainer","AppWithRouter","store","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.ecb8be80.chunk.js","sourcesContent":["import * as axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    withCredentials: true,\r\n    headers: {\r\n        \"API-KEY\": \"ce2d0101-43a5-42ad-a2b2-99a0005fc482\" //tijaga5987@in4mail.net psw: 123qweasd\r\n        //\"API-KEY\": \"7b7af4d5-fce7-4670-b484-847ef8a03368\" // azureSnake\r\n    }\r\n})\r\n\r\nexport const usersAPI = {\r\n\r\n    getUsers(currentPage = 1, pageSize = 10) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => {\r\n                return response.data\r\n            });\r\n    },\r\n\r\n    deleteSub(id) {\r\n        return instance.delete(`follow/${id}`);\r\n    },\r\n\r\n    postSub(id) {\r\n        return instance.post(`follow/${id}`);\r\n    }\r\n}\r\n\r\nexport const profileAPI = {\r\n\r\n    getProfile(userId = 1) {\r\n        return instance.get(`profile/${userId}`).then(response => {\r\n            return response.data\r\n        });\r\n    },\r\n\r\n    getStatus(userId = 1) {\r\n        return instance.get(`profile/status/${userId}`);\r\n    },\r\n\r\n    updateStatus(status) {\r\n        return instance.put(`profile/status`, {status: status});\r\n    },\r\n\r\n    updatePhoto(photo) {\r\n        let formData = new FormData();\r\n        formData.append(\"image\", photo)\r\n        return instance.put(`profile/photo`, formData, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        });\r\n    },\r\n\r\n    saveProfileInfo(profile) {\r\n        return instance.put(`profile`, profile);\r\n    }\r\n}\r\n\r\nexport const authAPI = {\r\n    getAuth() {\r\n        return instance.get(`auth/me`);\r\n    },\r\n    login(email, password, rememberMe, captchaText) {\r\n        return instance.post(`auth/login`, {email, password, rememberMe, captchaText});\r\n    },\r\n    logout() {\r\n        return instance.delete(`auth/login`);\r\n    },\r\n    getCaptchaUrl(){\r\n        return instance.get(`security/get-captcha-url`)\r\n    }\r\n}\r\n\r\nexport const messAPI = {\r\n    startMess(userId) {\r\n        return instance.put(`dialogs/${userId}`);\r\n    },\r\n\r\n    sendMess(userId, body) {\r\n        return instance.post(`dialogs/${userId}/messages`, {body: body})\r\n    },\r\n\r\n    getMess(userId){\r\n        return instance.get(`dialogs/${userId}/messages`);\r\n    },\r\n\r\n    getDialogs(){\r\n        return instance.get(`dialogs`);\r\n    }\r\n}\r\n\r\n","import React from \"react\";\r\nimport preloader from \"../../../assets/images/loading.svg\";\r\n\r\nfunction Preloader() {\r\n    return <div>\r\n    <img src={preloader} alt={\"preloader\"}\r\n         style={{marginLeft: \"auto\", marginRight: \"auto\", display: \"block\", paddingTop: \"50px\"}\r\n         }/>\r\n</div>\r\n}\r\n\r\nexport default Preloader;","import {usersAPI} from \"../api/api\";\r\n\r\nconst SUBSCRIBE = 'SEARCH-USER/SUBSCRIBE';\r\nconst UNSUBSCRIBE = 'SEARCH-USER/UNSUBSCRIBE';\r\nconst SET_USERS = 'SEARCH-USER/SET-USERS';\r\nconst SET_CURRENT_PAGE = 'SEARCH-USER/SET-CURRENT-PAGE';\r\nconst SET_TOTAL_COUNT = 'SEARCH-USER/SET-TOTAL-COUNT';\r\nconst TOGGLE_IS_FETCHING = 'SEARCH-USER/TOGGLE-IS-FETCHING';\r\nconst SUBSCRIBE_IN_PROGRESS = 'SEARCH-USER/SUBSCRIBE-IN-PROGRESS';\r\n\r\nlet initializationState = {\r\n    users: [],\r\n    pageSize: 20,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: true,\r\n    subInProgress: []\r\n};\r\n\r\nfunction searchUserReducer(state = initializationState, action) {\r\n    switch (action.type) {\r\n        case SUBSCRIBE: {\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, \"id\", {followed: true})\r\n            }\r\n        }\r\n\r\n\r\n        case UNSUBSCRIBE: {\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, \"id\", {followed: false})\r\n            }\r\n        }\r\n\r\n        case SET_USERS: {\r\n            return {...state, users: action.users}\r\n        }\r\n\r\n        case SET_CURRENT_PAGE: {\r\n            return {...state, currentPage: action.page}\r\n        }\r\n\r\n        case SET_TOTAL_COUNT: {\r\n            return {...state, totalUsersCount: action.count}\r\n        }\r\n\r\n        case TOGGLE_IS_FETCHING: {\r\n            return {...state, isFetching: action.isFetching}\r\n        }\r\n\r\n        case SUBSCRIBE_IN_PROGRESS: {\r\n            return {\r\n                ...state,\r\n                subInProgress: action.InProgress ?\r\n                    [...state.subInProgress, action.userId] :\r\n                    state.subInProgress.filter(id => id !== action.userId)\r\n            }\r\n        }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nfunction updateObjectInArray(items, itemId, objPropName, newObjProps) {\r\n    return items.map(u => {\r\n        if (u[objPropName] === itemId) {\r\n            return {...u, ...newObjProps}\r\n        }\r\n        return u;\r\n    })\r\n}\r\n\r\nexport function subscribeActionCreator(userId) {\r\n    return {\r\n        type: SUBSCRIBE,\r\n        userId\r\n    }\r\n}\r\n\r\nexport function unsubscribeActionCreator(userId) {\r\n    return {\r\n        type: UNSUBSCRIBE,\r\n        userId\r\n    }\r\n}\r\n\r\nexport function setUsersActionCreator(users) {\r\n    return {\r\n        type: SET_USERS,\r\n        users\r\n    }\r\n}\r\n\r\nexport function setCurrentPageActionCreator(page) {\r\n    return {\r\n        type: SET_CURRENT_PAGE,\r\n        page\r\n    }\r\n}\r\n\r\nexport function setTotalCountActionCreator(count) {\r\n    return {\r\n        type: SET_TOTAL_COUNT,\r\n        count\r\n    }\r\n}\r\n\r\nexport function toggleIsFetchingActionCreator(isFetching) {\r\n    return {\r\n        type: TOGGLE_IS_FETCHING,\r\n        isFetching\r\n    }\r\n}\r\n\r\nexport function subscribeInProgressActionCreator(InProgress, userId) {\r\n    return {\r\n        type: SUBSCRIBE_IN_PROGRESS,\r\n        InProgress,\r\n        userId\r\n    }\r\n}\r\n\r\nexport const getUsersThunkCreator = (currentPage, pageSize) => async (dispatch) => {\r\n    dispatch(toggleIsFetchingActionCreator(true));\r\n    dispatch(setCurrentPageActionCreator(currentPage));\r\n\r\n    let response = await usersAPI.getUsers(currentPage, pageSize);\r\n    dispatch(toggleIsFetchingActionCreator(false));\r\n    dispatch(setUsersActionCreator(response.items));\r\n    dispatch(setTotalCountActionCreator(response.totalCount));\r\n}\r\n\r\nexport const subscribeThunkCreator = (id) => async (dispatch) => {\r\n    dispatch(subscribeInProgressActionCreator(true, id));\r\n\r\n    let response = await usersAPI.postSub(id);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(subscribeActionCreator(id));\r\n    }\r\n    dispatch(subscribeInProgressActionCreator(false, id));\r\n}\r\n\r\nexport const unsubscribeThunkCreator = (id) => async (dispatch) => {\r\n    dispatch(subscribeInProgressActionCreator(true, id));\r\n    let response = await usersAPI.deleteSub(id);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(unsubscribeActionCreator(id));\r\n    }\r\n    dispatch(subscribeInProgressActionCreator(false, id));\r\n}\r\n\r\n\r\nexport default searchUserReducer;","module.exports = __webpack_public_path__ + \"static/media/loading.39e1ce1a.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app_nav\":\"NavBar_app_nav__2dKqp\",\"item\":\"NavBar_item__3vCS-\",\"activeLink\":\"NavBar_activeLink__3C1Ub\",\"friends\":\"NavBar_friends__1u9x-\",\"online\":\"NavBar_online__1ct_I\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogues\":\"Dialogues_dialogues__3HTY6\",\"dialogues_items\":\"Dialogues_dialogues_items__ZkocV\",\"dialogue\":\"Dialogues_dialogue__28Qme\",\"active\":\"Dialogues_active__2ovdr\",\"imgContainer\":\"Dialogues_imgContainer__1BjYn\",\"textContainer\":\"Dialogues_textContainer__f3sym\",\"message_box\":\"Dialogues_message_box__10k-5\",\"vl\":\"Dialogues_vl__2V8oZ\",\"messages_items\":\"Dialogues_messages_items__3tPFl\",\"input\":\"Dialogues_input__GWN-5\"};","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react'\r\nimport {Route, Link} from 'react-router-dom'\r\n\r\nfunction NavLinkWithDiv({to,exact, children, divStyle, divActiveStyle}) {\r\n    //custom styles in divStyle and divActiveStyle\r\n    return (\r\n        <Route path={to} exact={exact} children={({match}) => (\r\n            <div className={match ? divStyle + \" \" + divActiveStyle : divStyle}>\r\n                <Link to={to}>{children}</Link>\r\n            </div>\r\n        )}/>\r\n    )\r\n}\r\n\r\nexport default NavLinkWithDiv;","import React from 'react';\r\nimport style from '../Dialogues.module.css';\r\nimport NavLinkWithDiv from \"../../Common/NavLinkWithDiv/NavLinkWithDiv\";\r\n\r\nfunction DialogueItem(props) {\r\n\r\n    return (\r\n        <div >\r\n            <NavLinkWithDiv to={\"/dialogues/\" + props.path}\r\n                            divStyle={style.dialogue}\r\n                            divActiveStyle={style.active}>\r\n                <div className={style.imgContainer}>\r\n                    <img src={props.avatar} alt={\"avatar\"} className={style.avatar}/>\r\n                </div>\r\n                <div className={style.textContainer}>\r\n                    <h3>{props.name}</h3>\r\n                    <p>Last seen: {props.lastActivityDate}</p>\r\n                </div>\r\n            </NavLinkWithDiv>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default DialogueItem","import React from 'react'\r\nimport styles from './Message.module.css'\r\n\r\nfunction Message(props) {\r\n    debugger\r\n    return (\r\n        <div className={styles.bubbleWrapper}>\r\n            <div className={props.senderId !== props.userId ? styles.recipientContainer : styles.senderContainer}>\r\n                <div className={styles.bubble}>\r\n                    <div className={styles.messageInfoBox}>\r\n                        <h3>{props.senderName}</h3>\r\n                        <h2>{props.time}</h2>\r\n                    </div>\r\n                    <div>\r\n                        <p>{props.message}</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n/*<h3>{props.senderName}</h3> <img src={props.senderId !== props.userId ? props.recipient.photos.small : avatar}\r\n                                            alt='Avatar'/>*/\r\n\r\nexport default Message","import React, {useEffect} from 'react'\r\nimport style from './Dialogues.module.css'\r\nimport DialogueItem from \"./DialogueItem/DialogueItem\";\r\nimport Message from \"./Messages/Message\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {withRouter} from \"react-router-dom\";\r\n\r\nfunction Dialogues(props) {\r\n\r\n    const messagesEndRef = React.createRef(); //Ref for scrolling to bottom\r\n\r\n    const selectedDialogueId = Number(props.location.pathname\r\n        .replace('dialogues', '')\r\n        .replace(/[/]/g, ''));  //Getting selected dialogue id form URL\r\n\r\n\r\n    let DialogueItems = props.baseDialogues.map(el => (<DialogueItem key={el.id} name={el.userName}\r\n                                                                     path={el.id} avatar={el.photos.small}\r\n                                                                     lastActivityDate={el.lastDialogActivityDate\r\n                                                                         .substring(\r\n                                                                             0, el.lastDialogActivityDate\r\n                                                                             .lastIndexOf('T')\r\n                                                                         )\r\n                                                                         .split('-').reverse().join('.')}/>));\r\n\r\n    let Messages = props.baseTexts.map(el => (<Message key={el.id} message={el.body} senderName={el.senderName}\r\n                                                       senderId={el.senderId} userId={props.userId}\r\n                                                       time={el.addedAt.substr(\r\n                                                               el.addedAt.lastIndexOf('T') + 1,5\r\n                                                           )} />));\r\n\r\n    const scrollToBottom = () => { // Scroll list to the last message\r\n        messagesEndRef.current.scrollIntoView({behavior: 'smooth'})\r\n    }\r\n\r\n    function addNewMessage(value) {\r\n        props.sendMessage(selectedDialogueId, value.newMessageBody);\r\n        props.clearForm(\"dialogAddMessageForm\");\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (selectedDialogueId > 0) props.setMessages(selectedDialogueId);\r\n    }, [selectedDialogueId]); //Just on Url change\r\n\r\n    useEffect(() => scrollToBottom());\r\n\r\n    return (\r\n        <div className={style.dialogues}>\r\n            <div className={style.dialogues_items}>\r\n                {DialogueItems}\r\n            </div>\r\n            <div className={style.messages_items}>\r\n                <div className={style.vl}/>\r\n                <div className={style.message_box}>\r\n                    {Messages}\r\n                    <div ref={messagesEndRef}/>\r\n                </div>\r\n                {selectedDialogueId > 0 ? <AddMessageFormRedux onSubmit={addNewMessage}/> : null}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst AddMessageForm = (props) => {\r\n    return <form onSubmit={props.handleSubmit}>\r\n        <div className={style.input}>\r\n            <Field component={\"textarea\"} name={\"newMessageBody\"} placeholder={\"Enter your message\"}/>\r\n            <button>Send</button>\r\n        </div>\r\n    </form>\r\n}\r\n\r\nconst AddMessageFormRedux = reduxForm({form: \"dialogAddMessageForm\"})(AddMessageForm);\r\n\r\nexport default withRouter(Dialogues);","import {messAPI} from \"../api/api\";\r\n\r\nconst SEND_MESSAGE = 'DIALOGUES/SEND-MESSAGE';\r\nconst SET_DIALOGUES = 'DIALOGUES/SET-DIALOGUES';\r\nconst SET_MESSAGES = 'DIALOGUES/SET-MESSAGES';\r\nconst CLEAR_MESSAGES = 'DIALOGUES/CLEAR-MESSAGES';\r\nconst START_MESSAGING_IN_PROGRESS = 'START-MESSAGING-IN-PROGRESS';\r\n\r\nlet initializationState = {\r\n    baseDialogues: [],\r\n    baseTexts: [],\r\n    startMessSuccess:[]\r\n};\r\n\r\nfunction dialoguesReducer(state = initializationState, action) {\r\n    switch (action.type) {\r\n\r\n        case SEND_MESSAGE: {\r\n            return {...state, baseTexts: [...state.baseTexts, action.payload]}\r\n        }\r\n\r\n        case SET_DIALOGUES: {\r\n            return {...state, baseDialogues: action.dialogues}\r\n        }\r\n\r\n        case SET_MESSAGES: {\r\n            return {...state, baseTexts: action.messages}\r\n        }\r\n\r\n        case START_MESSAGING_IN_PROGRESS: {\r\n            return {\r\n                ...state,\r\n                startMessSuccess: action.InProgress ?\r\n                    [...state.startMessSuccess, action.userId] :\r\n                    []\r\n            }\r\n        }\r\n\r\n        case CLEAR_MESSAGES: {\r\n            return {...state, baseTexts: []}\r\n        }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport function sendMessageActionCreator(payload) {\r\n    return {\r\n        type: SEND_MESSAGE,\r\n        payload\r\n    }\r\n}\r\n\r\nexport function subscribeInProgressActionCreator(InProgress, userId) {\r\n    return {\r\n        type: START_MESSAGING_IN_PROGRESS,\r\n        InProgress,\r\n        userId\r\n    }\r\n}\r\n\r\nexport function clearMessagesActionCreator() {\r\n    return {\r\n        type: CLEAR_MESSAGES\r\n    }\r\n}\r\n\r\nexport function setDialoguesActionCreator(dialogues) {\r\n    return {\r\n        type: SET_DIALOGUES,\r\n        dialogues\r\n    }\r\n}\r\n\r\nexport function setMessagesActionCreator(messages) {\r\n    return {\r\n        type: SET_MESSAGES,\r\n        messages\r\n    }\r\n}\r\n\r\nexport const startMessagingThunkCreator = (userId) => async (dispatch) => {\r\n    let response = await messAPI.startMess(userId);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(subscribeInProgressActionCreator(true, userId));\r\n    }\r\n}\r\n\r\nexport const setDialoguesThunkCreator = () => async (dispatch) => {\r\n    let response = await messAPI.getDialogs();\r\n    dispatch(setDialoguesActionCreator(response.data));\r\n    dispatch(subscribeInProgressActionCreator(false, 0));\r\n}\r\n\r\nexport const setMessagesThunkCreator = (userId) => async (dispatch) => {\r\n    let response = await messAPI.getMess(userId);\r\n    dispatch(setMessagesActionCreator(response.data.items));\r\n}\r\n\r\nexport const sendMessagesThunkCreator = (userId, body) => async (dispatch) => {\r\n    let response = await messAPI.sendMess(userId, body);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(sendMessageActionCreator(response.data.data.message));\r\n    }\r\n}\r\n\r\nexport default dialoguesReducer;","import React from \"react\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToPropsForRedirect = (state) => {\r\n    return {\r\n        isAuth: state.authentication.isAuth\r\n    }\r\n};\r\n\r\nexport const withAuthRedirect = (Component) => { //HOC for redirecting to login screen if user not authorized\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) return <Redirect to={'/login'}/>\r\n            return <Component {...this.props} />\r\n        }\r\n    }\r\n\r\n    return connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n}","import React from \"react\";\r\nimport Dialogues from \"./Dialogues\";\r\nimport {\r\n    clearMessagesActionCreator,\r\n    sendMessagesThunkCreator,\r\n    setDialoguesThunkCreator,\r\n    setMessagesThunkCreator\r\n} from \"../../redux/dialoguesReducer\";\r\nimport {connect} from \"react-redux\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\nimport {reset} from \"redux-form\";\r\n\r\nclass DialoguesContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n        this.props.clearMessages();\r\n        this.props.setDialogues();\r\n    }\r\n\r\n    render() {\r\n        return <Dialogues {...this.props}/>\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        baseDialogues: state.messagePage.baseDialogues,\r\n        baseTexts: state.messagePage.baseTexts,\r\n        newMessageText: state.messagePage.newMessageText,\r\n        userId: state.authentication.userId\r\n    }\r\n};\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        sendMessage: (id, value) => {\r\n            dispatch(sendMessagesThunkCreator(id, value));\r\n        },\r\n        setDialogues: () => {\r\n            dispatch(setDialoguesThunkCreator());\r\n        },\r\n        setMessages: (userId) => {\r\n            dispatch(setMessagesThunkCreator(userId));\r\n        },\r\n        clearMessages: () => {\r\n            dispatch(clearMessagesActionCreator())\r\n        },\r\n        clearForm: (formName) => {\r\n            dispatch(reset(formName));\r\n        }\r\n    }\r\n};\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, mapDispatchToProps),\r\n    withAuthRedirect\r\n)(DialoguesContainer)","import {profileAPI} from \"../api/api\";\r\n\r\n\r\nconst ADD_POST_CONTENT = 'PROFILE/ADD-POST-CONTENT';\r\nconst SET_USER_PROFILE = 'PROFILE/SET-USER-PROFILE';\r\nconst SET_USER_STATUS = 'PROFILE/SET-USER-STATUS';\r\nconst SET_USER_PHOTO = 'PROFILE/SET-USER-PHOTO';\r\nconst DELETE_POST = 'PROFILE/DELETE-POST';\r\n\r\n\r\nconst loream = \"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque porta nisi mi,\" +\r\n    \" nec cursus lacus accumsan eu. Sed ut dictum justo. Donec non enim mi. Sed fringilla sed ante\" +\r\n    \" varius semper. Praesent semper nunc id leo tempus, in iaculis nibh dapibus.\" +\r\n    \" Praesent dictum urna quis urna vestibulum, at molestie magna porta.\";\r\n\r\nlet initializationState = {\r\n    basePosts: [\r\n        {id: 3, text: loream, date:'7/10/2019', time:'11:12', likes: 21},\r\n        {id: 2, text: loream, date:'3/8/2019', time:'13:42', likes: 1},\r\n        {id: 1, text: loream, date:'1/1/2019', time:'16:33', likes: 34}\r\n    ],\r\n    newPostText: '',\r\n    profile: null,\r\n    status: \"\"\r\n};\r\n\r\nfunction profileReducer(state = initializationState, action) {\r\n    switch (action.type) {\r\n        case ADD_POST_CONTENT: {\r\n            let newContent = {\r\n                id: state.basePosts.length + 1,\r\n                text: action.newPostBody,\r\n                date: currentDate(),\r\n                time: currentTime(),\r\n                likes: 0,\r\n\r\n            };\r\n            return {\r\n                ...state,\r\n                basePosts: [newContent, ...state.basePosts]\r\n            }\r\n        }\r\n\r\n\r\n        case SET_USER_PROFILE: {\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            }\r\n        }\r\n\r\n        case SET_USER_STATUS: {\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n        }\r\n\r\n        case SET_USER_PHOTO: {\r\n            return {\r\n                ...state,\r\n                profile: {...state.profile, photos: action.photo}\r\n            }\r\n        }\r\n\r\n        case DELETE_POST: {\r\n            return {\r\n                ...state,\r\n                basePosts: state.basePosts.filter(p => p.id !== action.id),\r\n            }\r\n        }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport function addPostActionCreator(newPostBody) {\r\n    return {\r\n        type: ADD_POST_CONTENT,\r\n        newPostBody\r\n    }\r\n}\r\n\r\nconst currentDate = () => {\r\n    let today = new Date();\r\n    return today.getDate() + '/' + (today.getMonth() + 1) + '/' + today.getFullYear();\r\n}\r\n\r\nconst currentTime = () => {\r\n    let today = new Date();\r\n    return today.getHours() + \":\" + today.getMinutes();\r\n}\r\n\r\nexport function setUserProfileActionCreator(profile) {\r\n    return {\r\n        type: SET_USER_PROFILE,\r\n        profile\r\n    }\r\n}\r\n\r\nexport function setUserStatusActionCreator(status) {\r\n    return {\r\n        type: SET_USER_STATUS,\r\n        status\r\n    }\r\n}\r\n\r\nexport function setUserPhotoActionCreator(photo) {\r\n    return {\r\n        type: SET_USER_PHOTO,\r\n        photo\r\n    }\r\n}\r\n\r\nexport function deletePostActionCreator(id) {\r\n    return {\r\n        type: DELETE_POST,\r\n        id\r\n    }\r\n} //ToDo: create delete post feature\r\n\r\nexport const setUserProfileThunkCreator = (userId) => async (dispatch) => {\r\n    let response = await profileAPI.getProfile(userId);\r\n    dispatch(setUserProfileActionCreator(response));\r\n}\r\n\r\nexport const setUserStatusThunkCreator = (userId) => async (dispatch) => {\r\n    let response = await profileAPI.getStatus(userId);\r\n    dispatch(setUserStatusActionCreator(response.data));\r\n}\r\n\r\nexport const updateUserStatusThunkCreator = (status) => async (dispatch) => {\r\n    let response = await profileAPI.updateStatus(status);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setUserStatusActionCreator(status));\r\n    }\r\n}\r\n\r\nexport const updateUserPhotoThunkCreator = (photo) => async (dispatch) => {\r\n    let response = await profileAPI.updatePhoto(photo);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setUserPhotoActionCreator(response.data.data.photos));\r\n    }\r\n}\r\n\r\nexport const saveProfileInfoThunkCreator = (profile) => async (dispatch, getState) => {\r\n    const userId = getState().authentication.userId\r\n    const response = await profileAPI.saveProfileInfo(profile);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setUserProfileThunkCreator(userId));\r\n    }\r\n}\r\n\r\nexport default profileReducer;","import React from 'react';\r\nimport style from './Post.module.css';\r\nimport avatar from \"../../../../assets/images/avatar.png\"\r\n\r\nfunction Post(props) {\r\n\r\n\r\n    return (\r\n        <div className={style.item}>\r\n            <div className={style.avatar}>\r\n                <img src={props.profile.photos.small == null ? avatar : props.profile.photos.small} alt=\"Avatar\"/>\r\n            </div>\r\n            <div className={style.info}>\r\n                <h3>{props.profile.fullName}</h3>\r\n                <p>{props.date} in {props.time}</p>\r\n            </div>\r\n            <div className={style.text}>\r\n                <p>{props.userText}</p>\r\n            </div>\r\n            <div className={style.likes}>\r\n                <img src=\"http://icons.iconarchive.com/icons/iconsmind/outline/512/Heart-2-icon.png\" alt={\"like\"}/>\r\n                &nbsp;Likes: {props.likeCount}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Post","export  const requiredField = (value) => {\r\n    if(value) return undefined;\r\n    return \"Field is required\";\r\n}\r\n\r\n\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n    if(value && value.length > maxLength) return `Max length is ${maxLength} symbols`\r\n    return undefined;\r\n}","import React from 'react';\r\nimport style from './MyPosts.module.css';\r\nimport Post from './Post/Post';\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {requiredField} from \"../../../utils/validators/validators\";\r\nimport avatar from \"../../../assets/images/avatar.png\";\r\n\r\nconst MyPosts = React.memo(props => {\r\n\r\n        if (!props.profile) {\r\n            return <div/>\r\n        }\r\n\r\n    const addPost = (value) => {\r\n        props.addNewPost(value.newPostBody);\r\n        props.clearForm(\"profileAddPostForm\");\r\n    };\r\n\r\n        let Posts = props.basePosts.map(el => (<Post userText={el.text} likeCount={el.likes} date={el.date}\r\n                                                     time={el.time} key={el.id} profile={props.profile}/>));\r\n\r\n\r\n        return (\r\n            <div className={style.descriptionBlock}>\r\n                <AddPostFormRedux onSubmit={addPost} profile={props.profile}/>\r\n                <div className={style.posts}>\r\n                    <h2>My posts</h2>\r\n                    {Posts}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n);\r\n\r\nconst AddPostForm = (props) => {\r\n\r\n    if (!props.profile) {\r\n        return <div/>\r\n    }\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div className={style.add_post}>\r\n                <div className={style.miniAvatar}>\r\n                    <img src={props.profile.photos.small == null ? avatar : props.profile.photos.small} alt=\"Avatar\"/>\r\n                </div>\r\n                <div className={style.inputPost}>\r\n                    <Field component={\"textarea\"} validate={[requiredField]}\r\n                           name={\"newPostBody\"} placeholder={\"Enter your post text\"}/>\r\n                </div>\r\n                <hr/>\r\n                <div className={style.buttonContainer}>\r\n                    <button>Post</button>\r\n                </div>\r\n            </div>\r\n        </form>)\r\n\r\n}\r\n\r\nconst AddPostFormRedux = reduxForm({form: \"profileAddPostForm\"})(AddPostForm)\r\n\r\nexport default MyPosts","import {addPostActionCreator} from \"../../../redux/profileReducer\";\r\nimport MyPosts from \"./MyPosts\";\r\nimport {connect} from \"react-redux\";\r\nimport {reset} from \"redux-form\";\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        basePosts: state.profilePage.basePosts,\r\n        newPostText: state.profilePage.newPostText,\r\n        profile: state.profilePage.profile,\r\n    }\r\n};\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        addNewPost: (value) => {\r\n            dispatch(addPostActionCreator(value))\r\n        },\r\n        clearForm: (formName) => {\r\n            dispatch(reset(formName));\r\n        }\r\n    }\r\n};\r\n\r\nconst MyPostsContainer = connect(mapStateToProps,mapDispatchToProps)(MyPosts);\r\n\r\nexport default MyPostsContainer","import React, {useState, useEffect} from \"react\";\r\nimport style from '../ProfileInfo.module.css';\r\n\r\nfunction ProfileStatusWithHooks(props) {\r\n\r\n    let [editMode, setEditMode] = useState(false);\r\n    let [status, setStatus] = useState(props.status);\r\n\r\n    useEffect(() => { //Hook to update status when props change\r\n        setStatus(props.status);\r\n    }, [props.status]);\r\n\r\n    const activateEditMode = () => {\r\n        setEditMode(true);\r\n    }\r\n\r\n    const deactivateEditMode = () => {\r\n        setEditMode(false);\r\n        props.updateUserStatus(status);\r\n    }\r\n\r\n    const onStatusChange = (e) => {\r\n        setStatus(e.currentTarget.value);\r\n    }\r\n\r\n    return <div>\r\n        {!editMode &&\r\n        <div className={style.status}>\r\n            <span onDoubleClick={props.isOwner? activateEditMode : null}>{!props.status ? \"Change status\" : \"Status: \" + props.status} </span>\r\n        </div>}\r\n        {editMode &&\r\n        <div className={style.status}>\r\n            Status: <input autoFocus={true} onBlur={deactivateEditMode} onChange={onStatusChange}\r\n                           value={status}/>\r\n        </div>}\r\n\r\n    </div>\r\n\r\n}\r\n\r\nexport default ProfileStatusWithHooks;","import style from \"../ProfileInfo.module.css\";\r\nimport React from \"react\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\n\r\nconst ProfileDataForm = (props) => {\r\n    return <form onSubmit={props.handleSubmit} className={style.infoForm}>\r\n        <div className={style.aboutMe}>\r\n            <h3>About me</h3>\r\n        </div>\r\n        <div className={style.field}>\r\n            <label htmlFor={\"fullName\"}><b>Full name:</b></label>\r\n            <Field component={\"input\"} name={\"fullName\"}/>\r\n        </div>\r\n        <div className={style.field}>\r\n            <label htmlFor={\"AboutMe\"}><b>Description:</b></label>\r\n            <Field component={\"input\"} name={\"aboutMe\"}/>\r\n        </div>\r\n        <div className={style.field}>\r\n            <label htmlFor={\"lookingForAJob\"}><b>Looking for a job:</b></label>\r\n            <Field component={\"input\"} name={\"lookingForAJob\"} type={\"checkbox\"}/>\r\n        </div>\r\n        <div className={style.field}>\r\n            <label htmlFor={\"JobDescription\"}><b>Job description:</b></label>\r\n            <Field component={\"input\"} name={\"lookingForAJobDescription\"}/>\r\n        </div>\r\n        <div className={style.aboutMe}>\r\n            <h3>Contacts</h3>\r\n        </div>\r\n        <div className={style.descriptionBlock}>\r\n            {Object.keys(props.profile.contacts).map(cont => {\r\n                    return <ContactForm key={cont} contactTitle={cont}/>\r\n            })}\r\n        </div>\r\n        <div className={style.editButton}><button>Save</button></div>\r\n    </form>\r\n}\r\n\r\nconst ContactForm = ({contactTitle}) => {\r\n    return <div className={style.field}>\r\n        <label htmlFor={contactTitle}><b>{contactTitle + \":\"}</b></label>\r\n        <Field component={\"input\"} name={\"contacts.\" + contactTitle}/>\r\n    </div>\r\n}\r\n\r\nconst ProfileDataFormReduxForm = reduxForm({form: 'edit-profile'})(ProfileDataForm)\r\n\r\nexport default ProfileDataFormReduxForm;","import React, {useState} from 'react';\r\nimport style from './ProfileInfo.module.css';\r\nimport Preloader from \"../../Common/Preloader/Preloader\";\r\nimport ProfileStatusWithHooks from \"./ProfileStatus/ProfileStatusWithHooks\";\r\nimport avatar from \"../../../assets/images/avatar.png\";\r\nimport ProfileDataForm from \"./ProfileStatus/ProfileDataForm\";\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\nconst validateInfo = (info) => {\r\n    return (info != null && info !== \"\")\r\n}\r\n\r\nfunction ProfileInfo(props) {\r\n\r\n    let [editMode, setEditMode] = useState(false);\r\n    const mainPhotoSelected = (e) => {\r\n        if (e.target.files.length) {\r\n            props.updateUserPhoto(e.target.files[0])\r\n        }\r\n    }\r\n\r\n    const onSubmit = (formData) => {\r\n        props.saveProfileInfo(formData);\r\n        setEditMode(false);\r\n    }\r\n\r\n\r\n    if (!props.profile) {\r\n        return <Preloader/>\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {props.startMessSuccess.some(id => id === props.profile.userId)? <Redirect to={`/dialogues/${props.profile.userId}`}/>:null}\r\n            <div className={style.avatarContainer}>\r\n                <div className={style.avatar}>\r\n                    <img src={props.profile.photos.large == null ? avatar : props.profile.photos.large} alt=\"Avatar\"/>\r\n                </div>\r\n                {props.isOwner ?\r\n                    <div className={style.buttonContainer}>\r\n                        <input type={\"file\"} onChange={mainPhotoSelected} id={style.customFileInput}/>\r\n                        <label htmlFor={style.customFileInput}>Upload photo</label>\r\n                    </div> :\r\n                    <div className={style.buttonContainer}>\r\n                        <button onClick={() => props.startMessaging(props.profile.userId)}>Start messaging</button>\r\n                    </div>\r\n                }\r\n            </div>\r\n\r\n            <div className={style.allInfoContainer}>\r\n                <div className={style.topInfo}>\r\n                    <h2>{props.profile.fullName}</h2>\r\n                    <ProfileStatusWithHooks status={props.status} updateUserStatus={props.updateUserStatus}\r\n                                            isOwner={props.isOwner}/>\r\n                </div>\r\n                <div>\r\n                    {editMode ? <ProfileDataForm initialValues={props.profile} profile={props.profile}\r\n                                                 onSubmit={onSubmit}/> :\r\n                        <ProfileData profile={props.profile} isOwner={props.isOwner}\r\n                                     setEditMode={() => {\r\n                                         setEditMode(true)\r\n                                     }}/>}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nconst Contact = ({contactTitle, contactValue}) => {\r\n    return <p>{contactTitle + \": \"} <a href={contactValue}>{contactValue}</a></p>\r\n}\r\n\r\nconst ProfileData = (props) => {\r\n    return <div className={style.descriptionBlock}>\r\n        <div className={style.aboutMe}>\r\n            <h3>About me</h3>\r\n        </div>\r\n        <p>{validateInfo(props.profile.aboutMe) ? \"Description: \" + props.profile.aboutMe : null}</p>\r\n        <p>Looking for a job: {props.profile.lookingForAJob ? \"Yes\" : \"No\"}</p>\r\n        <p>{validateInfo(props.profile.lookingForAJobDescription) ?\r\n            \"Job Description: \" + props.profile.lookingForAJobDescription : null}</p>\r\n        <div className={style.aboutMe}>\r\n            <h3>Contacts</h3>\r\n        </div>\r\n        <div className={style.contacts}>\r\n            {Object.keys(props.profile.contacts).map(cont => { //Get contacts info\r\n                if (validateInfo(props.profile.contacts[cont]))\r\n                    return <Contact key={cont} contactTitle={cont} contactValue={props.profile.contacts[cont]}/>\r\n                else return null\r\n            })}\r\n        </div>\r\n        {props.isOwner && <div className={style.editButton}>\r\n            <button onClick={props.setEditMode}>Edit</button>\r\n        </div>}\r\n    </div>\r\n}\r\n\r\n\r\nexport default ProfileInfo","import {connect} from \"react-redux\";\r\nimport ProfileInfo from \"./ProfileInfo\";\r\nimport {\r\n    saveProfileInfoThunkCreator,\r\n    updateUserPhotoThunkCreator,\r\n    updateUserStatusThunkCreator\r\n} from \"../../../redux/profileReducer\";\r\nimport React from \"react\";\r\nimport {startMessagingThunkCreator} from \"../../../redux/dialoguesReducer\";\r\n\r\nfunction ProfileInfoContainer (props) {\r\n    return (\r\n        <div>\r\n            <ProfileInfo {...props}/>\r\n        </div>\r\n    );\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        profile: state.profilePage.profile,\r\n        status: state.profilePage.status,\r\n        userId: state.authentication.userId,\r\n        startMessSuccess: state.messagePage.startMessSuccess\r\n    }\r\n};\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        updateUserStatus: (profile) => {\r\n            dispatch(updateUserStatusThunkCreator(profile))\r\n        },\r\n        updateUserPhoto: (photo) => {\r\n            dispatch(updateUserPhotoThunkCreator(photo))\r\n        },\r\n        saveProfileInfo: (profile) => {\r\n            dispatch(saveProfileInfoThunkCreator(profile))\r\n        },\r\n        startMessaging: (userId) => {\r\n            dispatch(startMessagingThunkCreator(userId))\r\n        }\r\n    }\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ProfileInfoContainer);\r\n","import React from 'react';\r\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\r\nimport ProfileInfoContainer from \"./ProfileInfo/ProfileInfoContainer\";\r\n\r\nfunction Profile(props) {\r\n    return (\r\n        <div>\r\n            <ProfileInfoContainer isOwner={props.isOwner}/>\r\n            <MyPostsContainer />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Profile","import React from 'react';\r\nimport Profile from \"./Profile\";\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n    setUserProfileThunkCreator,\r\n    setUserStatusThunkCreator,\r\n} from \"../../redux/profileReducer\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {compose} from \"redux\";\r\n\r\nclass ProfileContainer extends React.Component {\r\n\r\n    refreshProfile() {\r\n        let userId = this.props.match.params.userId;\r\n        this.props.setUserProfile(userId);\r\n        this.props.setUserStatus(userId);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.refreshProfile();\r\n    }\r\n\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if (this.props.match.params.userId !== prevProps.match.params.userId) {\r\n            this.refreshProfile();\r\n        }\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <div>\r\n                <Profile isOwner={this.props.match.params.userId == this.props.userId}/>\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        profile: state.profilePage.profile,\r\n        status: state.profilePage.status,\r\n        userId: state.authentication.userId,\r\n    }\r\n};\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        setUserProfile: (profile) => {\r\n            dispatch(setUserProfileThunkCreator(profile))\r\n        },\r\n        setUserStatus: (profile) => {\r\n            dispatch(setUserStatusThunkCreator(profile))\r\n        }\r\n    }\r\n};\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, mapDispatchToProps),\r\n    withRouter,\r\n)(ProfileContainer);","import React from 'react';\r\nimport style from './Header.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nfunction Header(props) {\r\n    return (\r\n        <header className={style.app_header}>\r\n            <div className={style.loginBlock}></div>\r\n            <img src=\"https://www.pngkey.com/png/full/342-3429274_horde-technology-react-js-project.png\"\r\n                className={style.App_logo} alt=\"logo\" />\r\n            <div className={style.loginBlock}>\r\n                { props.isAuth ? <div className={style.auth}> {props.login} <p onClick={props.logout}> Log out</p></div> : <NavLink to={'/login'}>Login</NavLink>}\r\n            </div>\r\n        </header>\r\n    );\r\n}\r\n\r\nexport default Header","import {authAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst SET_USER_DATA = 'AUTH/SET-USER-DATA';\r\nconst GET_CAPTCHA_URL_SUCCESS = 'AUTH/GET-CAPTCHA-URL-SUCCESS';\r\n\r\nlet initializationState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false,\r\n    captchaUrl: null // if null then captcha is not required\r\n};\r\n\r\nfunction authReducer(state = initializationState, action) {\r\n    switch (action.type) {\r\n\r\n        case SET_USER_DATA: {\r\n            return {...state, ...action.data}\r\n        }\r\n\r\n        case GET_CAPTCHA_URL_SUCCESS: {\r\n            return {...state, captchaUrl: action.captchaUrl}\r\n        }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport function setUserDataActionCreator(userId, email, login, isAuth) {\r\n    return {\r\n        type: SET_USER_DATA,\r\n        data: {\r\n            userId,\r\n            email,\r\n            login,\r\n            isAuth\r\n        }\r\n    }\r\n}\r\n\r\nexport function getCaptchaUrlSActionCreator(captchaUrl) {\r\n    return {\r\n        type: GET_CAPTCHA_URL_SUCCESS,\r\n        captchaUrl\r\n    }\r\n}\r\n\r\nexport const getAuthThunkCreator = () => async (dispatch) => {\r\n    let response = await authAPI.getAuth();\r\n\r\n    if (response.data.resultCode === 0) {\r\n        let {id, email, login} = response.data.data;\r\n        dispatch(setUserDataActionCreator(id, email, login, true));\r\n    }\r\n}\r\n\r\nexport const loginThunkCreator = (email, password, rememberMe, captchaText) => async (dispatch) => {\r\n    let response = await authAPI.login(email, password, rememberMe, captchaText);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getAuthThunkCreator());\r\n    } else {\r\n        if( response.data.resultCode === 10) {\r\n            dispatch(getCaptchaUrlThunkCreator());\r\n        }\r\n        let message = response.data.messages.length > 0 ? response.data.messages[0] : \"Some Error\"\r\n        dispatch(stopSubmit(\"login\", {_error: message}))\r\n    }\r\n}\r\n\r\nexport const logoutThunkCreator = () => async (dispatch) => {\r\n    let response = await authAPI.logout();\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setUserDataActionCreator(null, null, null, false));\r\n    }\r\n}\r\n\r\nexport const getCaptchaUrlThunkCreator = () => async (dispatch) => {\r\n    let response = await authAPI.getCaptchaUrl();\r\n    const captchaUrl = response.data.url;\r\n\r\n    dispatch(getCaptchaUrlSActionCreator(captchaUrl));\r\n}\r\n\r\nexport default authReducer;","import React from \"react\";\r\nimport Header from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {logoutThunkCreator} from \"../../redux/authReducer\";\r\n\r\nclass HeaderContainer extends React.Component {\r\n    render() {\r\n        return <Header {...this.props}/>\r\n    }\r\n\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        userId: state.authentication.userId,\r\n        isAuth: state.authentication.isAuth,\r\n        login:  state.authentication.login\r\n    }\r\n};\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        logout: () => {\r\n            dispatch(logoutThunkCreator())\r\n        },\r\n    }\r\n};\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(HeaderContainer);","import React from 'react'\r\nimport style from './Friends.module.css'\r\n\r\n\r\nfunction Friends(props) {\r\n\r\n    let Friend = props.base.map(el => (\r\n        <span key={el.id}>\r\n                <img src={el.avatar} alt =\"avatar\"/>\r\n                <div className={style.caption}>{el.name}</div>\r\n        </span>));\r\n\r\n    return (\r\n        <div className={style.friends_online}>\r\n        {Friend}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Friends","import {connect} from \"react-redux\";\r\nimport Friends from \"./Friends\";\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n       base: state.friendsBar.friend,\r\n    }\r\n};\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n\r\n    }\r\n};\r\n\r\nconst FriendsContainer  = connect(mapStateToProps,mapDispatchToProps)(Friends);\r\n\r\nexport default FriendsContainer ;","import React from \"react\";\r\nimport style from \"./NavBar.module.css\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport FriendsContainer from \"../Friends/FriendsContainer\";\r\n\r\n\r\nfunction NavBar(props) {\r\n    return (\r\n        <nav className={style.app_nav}>\r\n            <div className={style.item}>\r\n                <NavLink to={(props.userId? (\"/profile/\" + props.userId) : \"/login\") } activeClassName={style.activeLink}> Profile </NavLink>\r\n            </div>\r\n            <div className={style.item}>\r\n                <NavLink to=\"/dialogues\" activeClassName={style.activeLink}> Messages </NavLink>\r\n            </div>\r\n            <div className={style.item}>\r\n                <NavLink to=\"/search\" activeClassName={style.activeLink}> Search users </NavLink>\r\n            </div>\r\n            <div className={style.item}>\r\n                News\r\n            </div>\r\n            <div className={style.item}>\r\n                Music\r\n            </div>\r\n            <div className={style.item}>\r\n                Settings\r\n            </div>\r\n            <div className={style.item + ' '  + style.friends}>\r\n                Friends <span className={style.online}>online</span>\r\n                <FriendsContainer />\r\n            </div>\r\n        </nav>\r\n    );\r\n}\r\n\r\nexport default NavBar","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport NavBar from \"./NavBar\";\r\n\r\nclass NavBarContainer extends React.Component{\r\n    render() {\r\n        return <NavBar {...this.props}/>\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        userId: state.authentication.userId,\r\n    }\r\n};\r\n\r\nexport default connect(mapStateToProps)(NavBarContainer);","import React from \"react\";\r\nimport styles from \"./FormControls.module.css\"\r\n\r\nexport const Textarea = ({input, meta, ...props}) => { //Textarea with error styled tooltip\r\n\r\n    const hasError = meta.touched && meta.error;\r\n    return (\r\n        <div className={styles.formControl + \" \" + (hasError ? styles.error : undefined)}>\r\n            <textarea {...input} {...meta} {...props} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Input = ({input, meta, ...props}) => { //Input with error styled tooltip\r\n\r\n    const hasError = meta.touched && meta.error;\r\n\r\n    return (\r\n        <div className={styles.formControl + \" \" + (hasError ? styles.error : undefined)}>\r\n            <div className={styles.tooltip}>\r\n                {hasError? <span className={styles.tooltiptext + \" \" + styles.inputTooltipPosition}>{meta.error}</span> : \"\"}\r\n            </div>\r\n            <input {...input} {...props} />\r\n        </div>\r\n    )\r\n}","import React from \"react\";\r\nimport style from './Login.module.css';\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {maxLengthCreator, requiredField} from \"../../utils/validators/validators\";\r\nimport {Input} from \"../Common/FormsControls/FormsControls\";\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\nconst maxLength35 = maxLengthCreator(35);\r\n\r\nfunction LoginForm(props) {\r\n    return <form onSubmit={props.handleSubmit}>\r\n        <div className={style.container}>\r\n            <div className={style.field}>\r\n                <label htmlFor={\"uname\"}><b>Username</b></label>\r\n                <Field component={Input} validate={[requiredField, maxLength35]} type={\"text\"}\r\n                       placeholder={\"Enter Username\"} name={\"email\"} required/>\r\n            </div>\r\n            <div className={style.field}>\r\n                <label htmlFor={\"psw\"}><b>Password</b></label>\r\n                <Field component={Input} validate={[requiredField, maxLength35]} type={\"password\"}\r\n                       placeholder={\"Enter Password\"} name={\"password\"} required/>\r\n                {props.captchaUrl && <img src={props.captchaUrl}/>}\r\n                {props.captchaUrl && <Field component={Input} validate={[requiredField]} type={\"text\"}\r\n                           placeholder={\"Enter captcha\"} name={\"captchaText\"} required/>}\r\n            </div>\r\n\r\n            <button type={\"submit\"}>Login</button>\r\n            {props.error && <div className={style.formSummeryTooltipPosition}>\r\n                {props.error}\r\n            </div>}\r\n            <label>\r\n                <Field component={\"input\"} type={\"checkbox\"} name={\"rememberMe\"}/> Remember me\r\n                <span className={style.psw}><a href={\"https://social-network.samuraijs.com/signUp\"}>\r\n                    Don't have an account?</a></span>\r\n            </label>\r\n        </div>\r\n\r\n        <div className={style.container} style={{backgroundColor: \"#f1f1f1\"}}>\r\n\r\n        </div>\r\n    </form>\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({form: 'login'})(LoginForm)\r\n\r\nfunction Login(props) {\r\n\r\n    const onSubmit = (formData) => {\r\n        props.login(formData.email, formData.password, formData.rememberMe, formData.captchaText);\r\n    }\r\n\r\n    if (props.isAuth) {\r\n        return <Redirect to={\"/profile/\" + props.userId}/>\r\n    }\r\n\r\n    return <div>\r\n        <LoginReduxForm onSubmit={onSubmit} captchaUrl={props.captchaUrl}/>\r\n    </div>\r\n\r\n}\r\n\r\nexport default Login;","import {connect} from \"react-redux\";\r\nimport {loginThunkCreator, logoutThunkCreator} from \"../../redux/authReducer\";\r\nimport Login from \"./Login\";\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        isAuth: state.authentication.isAuth,\r\n        userId: state.authentication.userId,\r\n        captchaUrl: state.authentication.captchaUrl\r\n    }\r\n};\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        login: (email, password, rememberMe, captchaText) => {\r\n            dispatch(loginThunkCreator(email, password, rememberMe, captchaText))\r\n        },\r\n        logout: () => {\r\n            dispatch(logoutThunkCreator())\r\n        },\r\n    }\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);","import {getAuthThunkCreator} from \"./authReducer\";\r\n\r\nconst IS_INITIALIZED = 'APP/IS-INITIALIZED';\r\n\r\nlet initializationState = {\r\n    initialized: false,\r\n};\r\n\r\nfunction appReducer(state = initializationState, action) {\r\n    switch (action.type) {\r\n\r\n        case IS_INITIALIZED: {\r\n            return {...state, initialized: true}\r\n        }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport function initializingActionCreator() {\r\n    return {\r\n        type: IS_INITIALIZED,\r\n\r\n    }\r\n}\r\n\r\nexport const initializeAppThunkCreator = () => (dispatch) => {\r\n    dispatch(getAuthThunkCreator()).then(() => dispatch(initializingActionCreator()));\r\n}\r\n\r\nexport default appReducer;","import avatar from \"../assets/images/avatar.png\"\r\n\r\nlet initializationState = {\r\n    friend:[\r\n        {id: 1, name: \"Arthur\", avatar: avatar},\r\n        {id: 2, name: \"John\" , avatar: avatar},\r\n        {id: 3, name: \"Lenny\" , avatar: avatar}\r\n    ]\r\n};\r\n\r\n\r\nfunction friendsBarReducer(state = initializationState, action) {\r\n    \r\n    return state;\r\n}\r\n\r\nexport default friendsBarReducer;","import {applyMiddleware, combineReducers, createStore} from \"redux\";\r\nimport profileReducer from \"./profileReducer\";\r\nimport friendsBarReducer from \"./friendsBarReducer\";\r\nimport dialoguesReducer from \"./dialoguesReducer\";\r\nimport searchUserReducer from \"./searchUserReducer\";\r\nimport authReducer from \"./authReducer\";\r\nimport {reducer as formReducer} from 'redux-form'\r\nimport thunkMiddleware from \"redux-thunk\"\r\nimport appReducer from \"./appReducer\";\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    messagePage: dialoguesReducer,\r\n    friendsBar: friendsBarReducer,\r\n    searchUserPage: searchUserReducer,\r\n    authentication: authReducer,\r\n    app: appReducer,\r\n    form: formReducer\r\n});\r\n\r\nlet storeRedux = createStore(reducers, applyMiddleware(thunkMiddleware));\r\n\r\nwindow.storeRedux = storeRedux;\r\n\r\nexport default storeRedux;","import React, {Suspense} from 'react';\r\nimport './App.css';\r\nimport {BrowserRouter, Link, Route, withRouter, Redirect} from \"react-router-dom\"\r\nimport DialoguesContainer from \"./components/Dialogues/DialoguesContainer.jsx\";\r\nimport ProfileContainer from \"./components/Profile/ProfileContainer\";\r\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\r\nimport NavBarContainer from \"./components/NavBar/NavBarContainer\";\r\nimport LoginContainer from \"./components/Login/LoginContainer\";\r\nimport {connect, Provider} from \"react-redux\";\r\nimport {initializeAppThunkCreator} from \"./redux/appReducer\";\r\nimport store from \"./redux/storeRedux\";\r\nimport {compose} from \"redux\";\r\n\r\nconst SearchUserContainer = React.lazy(() => import(\"./components/SearchUser/SearchUserContainer\"));\r\n\r\nclass App extends React.Component {\r\n\r\n    componentDidMount() {\r\n        this.props.initializeApp();\r\n    }\r\n\r\n    render() {\r\n        if (!this.props.initialized) {\r\n            return <div/>;\r\n        }\r\n\r\n        return (\r\n            <div className=\"app_wrapper\">\r\n                <HeaderContainer/>\r\n                <NavBarContainer/>\r\n                <div className=\"app_wrapper_content\">\r\n                    <Route path='/dialogues' render={() => <DialoguesContainer/>}/>\r\n                    <Route path='/profile/:userId?' render={() => <ProfileContainer/>}/>\r\n                    <Route path='/search' render={() => { return <Suspense fallback={<div/>}>\r\n                        <SearchUserContainer/>\r\n                    </Suspense>}}/>\r\n                    <Route path='/login' render={() => <LoginContainer/>}/>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        initialized: state.app.initialized,\r\n        isAuth: state.authentication.isAuth,\r\n    }\r\n};\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        initializeApp: () => {\r\n            dispatch(initializeAppThunkCreator())\r\n        }\r\n    }\r\n};\r\n\r\nconst AppContainer = compose(\r\n    withRouter,\r\n    connect(mapStateToProps, mapDispatchToProps)\r\n)(App);\r\n\r\nconst AppWithRouter = () => {\r\n   return <BrowserRouter>\r\n        <Provider store={store}>\r\n            <AppContainer />\r\n        </Provider>\r\n    </BrowserRouter>\r\n}\r\n\r\nexport default AppWithRouter;\r\n","import './index.css';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport AppWithRouter from \"./App\";\r\n\r\nReactDOM.render(<AppWithRouter />, document.getElementById('root'));\r\n\r\nserviceWorker.unregister();\r\n","module.exports = \"data:image/png;base64,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\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormControls_formControl__2_X7a\",\"error\":\"FormControls_error__nnj5I\",\"tooltip\":\"FormControls_tooltip__23ujo\",\"tooltiptext\":\"FormControls_tooltiptext__3TyLf\",\"inputTooltipPosition\":\"FormControls_inputTooltipPosition__2rukI\",\"textareaTooltipPosition\":\"FormControls_textareaTooltipPosition__12Nnc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"descriptionBlock\":\"MyPosts_descriptionBlock__3XO16\",\"posts\":\"MyPosts_posts__b9SiR\",\"add_post\":\"MyPosts_add_post__11s9P\",\"miniAvatar\":\"MyPosts_miniAvatar__1B3Tx\",\"inputPost\":\"MyPosts_inputPost__1-0uV\",\"buttonContainer\":\"MyPosts_buttonContainer__DwL1M\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Login_container__Dwuhr\",\"field\":\"Login_field__3F32u\",\"psw\":\"Login_psw__31Wzy\",\"formSummeryTooltipPosition\":\"Login_formSummeryTooltipPosition__3lx60\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bubbleWrapper\":\"Message_bubbleWrapper__2cBP4\",\"messageInfoBox\":\"Message_messageInfoBox__h4bzp\",\"recipientContainer\":\"Message_recipientContainer__2QtbC\",\"senderContainer\":\"Message_senderContainer__DiAiL\",\"bubble\":\"Message_bubble__4nUaD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__3STq5\",\"info\":\"Post_info__3XUEt\",\"avatar\":\"Post_avatar__3UNfP\",\"likes\":\"Post_likes__-c3Xl\",\"text\":\"Post_text__o-HrD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app_header\":\"Header_app_header__1TsEK\",\"App_logo\":\"Header_App_logo__ghhni\",\"loginBlock\":\"Header_loginBlock__MyB_R\",\"auth\":\"Header_auth__61PzQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"descriptionBlock\":\"ProfileInfo_descriptionBlock__2iF-o\",\"topInfo\":\"ProfileInfo_topInfo__1mMjP\",\"allInfoContainer\":\"ProfileInfo_allInfoContainer__3SwGw\",\"avatarContainer\":\"ProfileInfo_avatarContainer__34qaf\",\"avatar\":\"ProfileInfo_avatar__32OW6\",\"customFileInput\":\"ProfileInfo_customFileInput__1_nLr\",\"status\":\"ProfileInfo_status__38peY\",\"field\":\"ProfileInfo_field__DHEZM\",\"aboutMe\":\"ProfileInfo_aboutMe__3DcUB\",\"editButton\":\"ProfileInfo_editButton__SM2ps\",\"infoForm\":\"ProfileInfo_infoForm__3eEVZ\",\"contacts\":\"ProfileInfo_contacts__3vBKY\",\"buttonContainer\":\"ProfileInfo_buttonContainer__ny9mo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friends_online\":\"Friends_friends_online__KiD3R\",\"caption\":\"Friends_caption__1nMgc\"};"],"sourceRoot":""}