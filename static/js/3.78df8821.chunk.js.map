{"version":3,"sources":["components/SearchUser/SearchUser.module.css","components/Pagination/Pagination.module.css","components/SearchUser/User.jsx","components/SearchUser/SearchUser.jsx","redux/searchUserSelector.js","components/Pagination/Pagination.jsx","components/SearchUser/SearchUserContainer.jsx"],"names":["module","exports","User","props","className","style","item","usersAvatar","to","user","id","src","photos","small","avatar","alt","users","info","name","status","location","sub","followed","disabled","subInProgress","some","onClick","unsubscribeUser","subscribeUser","SearchUser","container","map","el","key","getUsers","state","searchUserPage","getPageSize","pageSize","getTotalUsersCount","totalUsersCount","getCurrentPage","currentPage","getIsFetching","isFetching","getSubInProgress","Pagination","pagesCount","Math","ceil","totalItemsCount","pages","i","push","leftBtnMode","rightBtnMode","portionCount","portionSize","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","paginator","pageNumbers","filter","p","selectedPage","onPageChange","SearchUserContainer","pageNumber","this","Preloader","subscribeInProgress","React","Component","connect","dispatch","userId","subscribeThunkCreator","unsubscribeThunkCreator","subscribeInProgressActionCreator","getUsersThunkCreator"],"mappings":"iGACAA,EAAOC,QAAU,CAAC,KAAO,yBAAyB,UAAY,8BAA8B,YAAc,gCAAgC,MAAQ,0BAA0B,KAAO,yBAAyB,SAAW,6BAA6B,IAAM,wBAAwB,OAAS,6B,oBCA3RD,EAAOC,QAAU,CAAC,UAAY,8BAA8B,YAAc,gCAAgC,aAAe,mC,uJCqC1GC,MAjCf,SAAcC,GAEV,OAAO,yBAAKC,UAAWC,IAAMC,MACzB,yBAAKF,UAAWC,IAAME,aAClB,6BACI,kBAAC,IAAD,CAASC,GAAI,YAAcL,EAAMM,KAAKC,IAClC,yBAAKC,IAAgC,MAA3BR,EAAMM,KAAKG,OAAOC,MAAgBC,IAASX,EAAMM,KAAKG,OAAOC,MAAOE,IAAK,WAI/F,yBAAKX,UAAWC,IAAMW,OACd,0BAAMZ,UAAWC,IAAMY,MACnB,6BAAMd,EAAMM,KAAKS,MACjB,yBAAKd,UAAWC,IAAMc,QAAShB,EAAMM,KAAKU,OAAS,WAAahB,EAAMM,KAAKU,OAAS,KAExF,0BAAMf,UAAWC,IAAMe,UACnB,0CACA,yCAER,yBAAKhB,UAAWC,IAAMgB,KACjBlB,EAAMM,KAAKa,SACR,4BAAQC,SAAUpB,EAAMqB,cAAcC,MAAK,SAAAf,GAAE,OAAIA,IAAOP,EAAMM,KAAKC,MAAKgB,QAAS,WAC7EvB,EAAMwB,gBAAgBxB,EAAMM,KAAKC,MADrC,iBAIE,4BAAQa,SAAUpB,EAAMqB,cAAcC,MAAK,SAAAf,GAAE,OAAIA,IAAOP,EAAMM,KAAKC,MAAKgB,QAAS,WAC/EvB,EAAMyB,cAAczB,EAAMM,KAAKC,MADjC,mBCbPmB,MAbf,SAAoB1B,GAEhB,OAAO,yBAAKC,UAAWC,IAAMyB,WAErB3B,EAAMa,MAAMe,KAAI,SAAAC,GAAE,OACd,kBAAC,EAAD,CAAMC,IAAKD,EAAGtB,GAAID,KAAMuB,EAClBR,cAAerB,EAAMqB,cACrBI,cAAezB,EAAMyB,cACrBD,gBAAiBxB,EAAMwB,uB,iBCZhCO,EAAW,SAACC,GACrB,OAAOA,EAAMC,eAAepB,OAGnBqB,EAAc,SAACF,GACxB,OAAOA,EAAMC,eAAeE,UAGnBC,EAAqB,SAACJ,GAC/B,OAAOA,EAAMC,eAAeI,iBAGnBC,EAAiB,SAACN,GAC3B,OAAOA,EAAMC,eAAeM,aAGnBC,EAAgB,SAACR,GAC1B,OAAOA,EAAMC,eAAeQ,YAGnBC,EAAmB,SAACV,GAC7B,OAAOA,EAAMC,eAAeZ,e,0BCsBjBsB,MAxCf,SAAoB3C,GAMhB,IAJA,IAAI4C,EAAaC,KAAKC,KAAK9C,EAAM+C,gBAAkB/C,EAAMmC,UAErDa,EAAQ,GAEHC,EAAI,EAAGA,EAAIL,EAAYK,IAC5BD,EAAME,KAAKD,EAAI,GAGnB,IAIIE,EAAaC,EAJbC,EAAeR,KAAKC,KAAKF,EAAa5C,EAAMsD,aAVzB,EAWiBC,mBAAS,GAX1B,mBAWlBC,EAXkB,KAWHC,EAXG,KAYnBC,GAAyBF,EAAgB,GAAKxD,EAAMsD,YAAc,EAClEK,EAAyBH,EAAgBxD,EAAMsD,YAInD,OAAO,yBAAKrD,UAAWC,IAAM0D,WACJT,IAApBK,EAAgB,GACjB,4BAAQpC,SAAU+B,EAAa5B,QAAS,WACpCkC,EAAiBD,EAAgB,KADrC,OAGA,yBAAKvD,UAAWC,IAAM2D,aACjBb,EACIc,QAAO,SAAAC,GAAC,OAAIA,GAAKL,GAAyBK,GAAKJ,KAC/C/B,KAAI,SAAAmC,GAAC,OACF,0BAAMjC,IAAKiC,EAAG9D,UAAWD,EAAMuC,cAAgBwB,EAAI7D,IAAM8D,aAAe,GAClEzC,QAAS,WACLvB,EAAMiE,aAAaF,KAF7B,IAGWA,EAHX,SAOoBX,IAA/BC,EAAeG,GAChB,4BAAQpC,SAAUgC,EAAc7B,QAAS,WACrCkC,EAAiBD,EAAgB,KADrC,SCjBFU,E,2MAMFD,aAAe,SAACE,GACZ,EAAKnE,MAAM+B,SAASoC,EAAY,EAAKnE,MAAMmC,W,mFAJ3CiC,KAAKpE,MAAM+B,SAASqC,KAAKpE,MAAMuC,YAAa6B,KAAKpE,MAAMmC,Y,+BAQvD,OAAO,6BACH,kBAAC,EAAD,CAAYY,gBAAiBqB,KAAKpE,MAAMqC,gBAC5BF,SAAUiC,KAAKpE,MAAMmC,SACrBI,YAAa6B,KAAKpE,MAAMuC,YACxB0B,aAAcG,KAAKH,aACnBX,YAAa,KAExBc,KAAKpE,MAAMyC,WAAa,kBAAC4B,EAAA,EAAD,MACrB,kBAAC,EAAD,CAAYxD,MAAOuD,KAAKpE,MAAMa,MAClBW,gBAAiB4C,KAAKpE,MAAMwB,gBAC5BC,cAAe2C,KAAKpE,MAAMyB,cAC1B6C,oBAAqBF,KAAKpE,MAAMsE,oBAChCjD,cAAe+C,KAAKpE,MAAMqB,qB,GAvBpBkD,IAAMC,WA2DzBC,uBA7BO,SAACzC,GACnB,MAAO,CACHnB,MAAOkB,EAASC,GAChBG,SAAUD,EAAYF,GACtBK,gBAAiBD,EAAmBJ,GACpCO,YAAaD,EAAeN,GAC5BS,WAAYD,EAAcR,GAC1BX,cAAeqB,EAAiBV,OAIf,SAAC0C,GACtB,MAAO,CACHjD,cAAe,SAACkD,GACZD,EAASE,YAAsBD,KAEnCnD,gBAAiB,SAACmD,GACdD,EAASG,YAAwBF,KAErCL,oBAAqB,SAACjD,EAAesD,GACjCD,EAASI,YAAiCzD,EAAesD,KAE7D5C,SAAU,SAACQ,EAAaJ,GACpBuC,EAASK,YAAqBxC,EAAaJ,QAMxCsC,CAA6CP","file":"static/js/3.78df8821.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"SearchUser_item__203KF\",\"container\":\"SearchUser_container__Z6cfB\",\"usersAvatar\":\"SearchUser_usersAvatar__1JQhi\",\"users\":\"SearchUser_users__DDg4v\",\"info\":\"SearchUser_info__IdHGH\",\"location\":\"SearchUser_location__3fKF-\",\"sub\":\"SearchUser_sub__b9eBu\",\"status\":\"SearchUser_status__11Xfg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Pagination_paginator__3g7Vn\",\"pageNumbers\":\"Pagination_pageNumbers__agwzU\",\"selectedPage\":\"Pagination_selectedPage__Npemx\"};","import React from \"react\";\r\nimport style from './SearchUser.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\nimport avatar from \"../../assets/images/avatar.png\";\r\n\r\nfunction User(props) {\r\n\r\n    return <div className={style.item}>\r\n        <div className={style.usersAvatar}>\r\n            <div>\r\n                <NavLink to={'/profile/' + props.user.id}>\r\n                    <img src={props.user.photos.small == null ? avatar : props.user.photos.small} alt={\"img\"}/>\r\n                </NavLink>\r\n            </div>\r\n        </div>\r\n        <div className={style.users}>\r\n                <span className={style.info}>\r\n                    <div>{props.user.name}</div>\r\n                    <div className={style.status}>{props.user.status ? \"Status: \" + props.user.status : \"\"}</div>\r\n                </span>\r\n                <span className={style.location}>\r\n                    <div>From City</div>\r\n                    <div>Country</div>\r\n                </span>\r\n            <div className={style.sub}>\r\n                {props.user.followed ?\r\n                    <button disabled={props.subInProgress.some(id => id === props.user.id)} onClick={() => {\r\n                        props.unsubscribeUser(props.user.id);\r\n                    }}> Unsubscribe </button>\r\n\r\n                    : <button disabled={props.subInProgress.some(id => id === props.user.id)} onClick={() => {\r\n                        props.subscribeUser(props.user.id);\r\n                    }}> Subscribe </button>}\r\n            </div>\r\n        </div>\r\n    </div>\r\n}\r\n\r\nexport default User;","import React from \"react\";\r\nimport style from './SearchUser.module.css'\r\nimport User from \"./User\";\r\n\r\nfunction SearchUser(props) {\r\n\r\n    return <div className={style.container}>\r\n        {\r\n            props.users.map(el =>\r\n                <User key={el.id} user={el}\r\n                      subInProgress={props.subInProgress}\r\n                      subscribeUser={props.subscribeUser}\r\n                      unsubscribeUser={props.unsubscribeUser}/>)\r\n        }\r\n    </div>\r\n}\r\n\r\nexport default SearchUser;","export const getUsers = (state) => {\r\n    return state.searchUserPage.users;\r\n}\r\n\r\nexport const getPageSize = (state) => {\r\n    return state.searchUserPage.pageSize;\r\n}\r\n\r\nexport const getTotalUsersCount = (state) => {\r\n    return state.searchUserPage.totalUsersCount;\r\n}\r\n\r\nexport const getCurrentPage = (state) => {\r\n    return state.searchUserPage.currentPage;\r\n}\r\n\r\nexport const getIsFetching = (state) => {\r\n    return state.searchUserPage.isFetching;\r\n}\r\n\r\nexport const getSubInProgress = (state) => {\r\n    return state.searchUserPage.subInProgress;\r\n}","import React, {useState} from \"react\";\r\nimport style from './Pagination.module.css'\r\n\r\nfunction Pagination(props) {\r\n\r\n    let pagesCount = Math.ceil(props.totalItemsCount / props.pageSize);\r\n\r\n    let pages = [];\r\n\r\n    for (let i = 0; i < pagesCount; i++) {\r\n        pages.push(i + 1);\r\n    }\r\n\r\n    let portionCount = Math.ceil(pagesCount / props.portionSize);\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let leftPortionPageNumber = (portionNumber - 1) * props.portionSize + 1;\r\n    let rightPortionPageNumber = portionNumber * props.portionSize;\r\n    let leftBtnMode, rightBtnMode;\r\n\r\n\r\n    return <div className={style.paginator}>\r\n        {portionNumber > 1 ? leftBtnMode = false : leftBtnMode = true}\r\n        <button disabled={leftBtnMode} onClick={() => {\r\n            setPortionNumber(portionNumber - 1)\r\n        }}> &#60; </button>\r\n        <div className={style.pageNumbers}>\r\n            {pages\r\n                .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n                .map(p =>\r\n                    <span key={p} className={props.currentPage === p ? style.selectedPage : \"\"}\r\n                          onClick={() => {\r\n                              props.onPageChange(p)\r\n                          }}> {p} </span>\r\n                )\r\n            }\r\n        </div>\r\n        {portionCount > portionNumber ? rightBtnMode = false : rightBtnMode = true}\r\n        <button disabled={rightBtnMode} onClick={() => {\r\n            setPortionNumber(portionNumber + 1)\r\n        }}> &#62; </button>\r\n    </div>\r\n}\r\n\r\nexport default Pagination;","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport SearchUser from \"./SearchUser\";\r\nimport {\r\n    getUsersThunkCreator,\r\n    subscribeInProgressActionCreator, subscribeThunkCreator,\r\n    unsubscribeThunkCreator\r\n} from \"../../redux/searchUserReducer\";\r\nimport Preloader from \"../Common/Preloader/Preloader.jsx\";\r\nimport {\r\n    getCurrentPage,\r\n    getIsFetching,\r\n    getPageSize,\r\n    getSubInProgress,\r\n    getTotalUsersCount,\r\n    getUsers\r\n} from \"../../redux/searchUserSelector\";\r\nimport Pagination from \"../Pagination/Pagination\";\r\n\r\n\r\nclass SearchUserContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n        this.props.getUsers(this.props.currentPage, this.props.pageSize)\r\n    }\r\n\r\n    onPageChange = (pageNumber) => {\r\n        this.props.getUsers(pageNumber, this.props.pageSize)\r\n    }\r\n\r\n    render() {\r\n        return <div>\r\n            <Pagination totalItemsCount={this.props.totalUsersCount}\r\n                        pageSize={this.props.pageSize}\r\n                        currentPage={this.props.currentPage}\r\n                        onPageChange={this.onPageChange}\r\n                        portionSize={20}/>\r\n\r\n            {this.props.isFetching ? <Preloader/> :\r\n                <SearchUser users={this.props.users}\r\n                            unsubscribeUser={this.props.unsubscribeUser}\r\n                            subscribeUser={this.props.subscribeUser}\r\n                            subscribeInProgress={this.props.subscribeInProgress}\r\n                            subInProgress={this.props.subInProgress}\r\n                />\r\n            }\r\n        </div>\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        subInProgress: getSubInProgress(state),\r\n    }\r\n};\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        subscribeUser: (userId) => {\r\n            dispatch(subscribeThunkCreator(userId))\r\n        },\r\n        unsubscribeUser: (userId) => {\r\n            dispatch(unsubscribeThunkCreator(userId))\r\n        },\r\n        subscribeInProgress: (subInProgress, userId) => {\r\n            dispatch(subscribeInProgressActionCreator(subInProgress, userId))\r\n        },\r\n        getUsers: (currentPage, pageSize) => {\r\n            dispatch(getUsersThunkCreator(currentPage, pageSize))\r\n        },\r\n\r\n    }\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SearchUserContainer);"],"sourceRoot":""}